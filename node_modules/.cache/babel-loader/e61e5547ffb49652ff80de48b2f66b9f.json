{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nexports['default'] = createMountWrapper;\n\nvar _object = require('object.assign');\n\nvar _object2 = _interopRequireDefault(_object);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _airbnbPropTypes = require('airbnb-prop-types');\n\nvar _RootFinder = require('./RootFinder');\n\nvar _RootFinder2 = _interopRequireDefault(_RootFinder);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n/* eslint react/forbid-prop-types: 0 */\n\n\nvar stringOrFunction = _propTypes2['default'].oneOfType([_propTypes2['default'].func, _propTypes2['default'].string]);\n\nvar makeValidElementType = function makeValidElementType(adapter) {\n  if (!adapter) {\n    return stringOrFunction;\n  }\n\n  function validElementType(props, propName) {\n    if (!adapter.isValidElementType) {\n      for (var _len = arguments.length, args = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n        args[_key - 2] = arguments[_key];\n      }\n\n      return stringOrFunction.apply(undefined, [props, propName].concat(args));\n    }\n\n    var propValue = props[propName];\n\n    if (propValue == null || adapter.isValidElementType(propValue)) {\n      return null;\n    }\n\n    return new TypeError(String(propName) + ' must be a valid element type!');\n  }\n\n  validElementType.isRequired = function () {\n    function validElementTypeRequired(props, propName) {\n      if (!adapter.isValidElementType) {\n        for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n          args[_key2 - 2] = arguments[_key2];\n        }\n\n        return stringOrFunction.isRequired.apply(stringOrFunction, [props, propName].concat(args));\n      }\n\n      var propValue = props[propName]; // eslint-disable-line react/destructuring-assignment\n\n      if (adapter.isValidElementType(propValue)) {\n        return null;\n      }\n\n      return new TypeError(String(propName) + ' must be a valid element type!');\n    }\n\n    return validElementTypeRequired;\n  }();\n\n  return validElementType;\n};\n/**\n * This is a utility component to wrap around the nodes we are\n * passing in to `mount()`. Theoretically, you could do everything\n * we are doing without this, but this makes it easier since\n * `renderIntoDocument()` doesn't really pass back a reference to\n * the DOM node it rendered to, so we can't really \"re-render\" to\n * pass new props in.\n */\n\n\nfunction createMountWrapper(node) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var adapter = options.adapter,\n      WrappingComponent = options.wrappingComponent;\n\n  var WrapperComponent = function (_React$Component) {\n    _inherits(WrapperComponent, _React$Component);\n\n    function WrapperComponent() {\n      var _ref;\n\n      _classCallCheck(this, WrapperComponent);\n\n      for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      var _this = _possibleConstructorReturn(this, (_ref = WrapperComponent.__proto__ || Object.getPrototypeOf(WrapperComponent)).call.apply(_ref, [this].concat(args)));\n\n      var _this$props = _this.props,\n          props = _this$props.props,\n          wrappingComponentProps = _this$props.wrappingComponentProps,\n          context = _this$props.context;\n      _this.state = {\n        mount: true,\n        props: props,\n        wrappingComponentProps: wrappingComponentProps,\n        context: context\n      };\n      return _this;\n    }\n\n    _createClass(WrapperComponent, [{\n      key: 'setChildProps',\n      value: function () {\n        function setChildProps(newProps, newContext) {\n          var callback = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n          var _state = this.state,\n              oldProps = _state.props,\n              oldContext = _state.context;\n          var props = (0, _object2['default'])({}, oldProps, newProps);\n          var context = (0, _object2['default'])({}, oldContext, newContext);\n          this.setState({\n            props: props,\n            context: context\n          }, callback);\n        }\n\n        return setChildProps;\n      }()\n    }, {\n      key: 'setWrappingComponentProps',\n      value: function () {\n        function setWrappingComponentProps(props) {\n          var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n          this.setState({\n            wrappingComponentProps: props\n          }, callback);\n        }\n\n        return setWrappingComponentProps;\n      }()\n    }, {\n      key: 'render',\n      value: function () {\n        function render() {\n          var _props = this.props,\n              Component = _props.Component,\n              refProp = _props.refProp;\n          var _state2 = this.state,\n              mount = _state2.mount,\n              props = _state2.props,\n              wrappingComponentProps = _state2.wrappingComponentProps;\n          if (!mount) return null; // eslint-disable-next-line react/jsx-props-no-spreading\n\n          var component = _react2['default'].createElement(Component, _extends({\n            ref: refProp\n          }, props));\n\n          if (WrappingComponent) {\n            return (// eslint-disable-next-line react/jsx-props-no-spreading\n              _react2['default'].createElement(WrappingComponent, wrappingComponentProps, _react2['default'].createElement(_RootFinder2['default'], null, component))\n            );\n          }\n\n          return component;\n        }\n\n        return render;\n      }()\n    }]);\n\n    return WrapperComponent;\n  }(_react2['default'].Component);\n\n  WrapperComponent.propTypes = {\n    Component: makeValidElementType(adapter).isRequired,\n    refProp: _propTypes2['default'].oneOfType([_propTypes2['default'].string, (0, _airbnbPropTypes.ref)()]),\n    props: _propTypes2['default'].object.isRequired,\n    wrappingComponentProps: _propTypes2['default'].object,\n    context: _propTypes2['default'].object\n  };\n  WrapperComponent.defaultProps = {\n    refProp: null,\n    context: null,\n    wrappingComponentProps: null\n  };\n\n  if (options.context && (node.type.contextTypes || options.childContextTypes)) {\n    // For full rendering, we are using this wrapper component to provide context if it is\n    // specified in both the options AND the child component defines `contextTypes` statically\n    // OR the merged context types for all children (the node component or deeper children) are\n    // specified in options parameter under childContextTypes.\n    // In that case, we define both a `getChildContext()` function and a `childContextTypes` prop.\n    var childContextTypes = (0, _object2['default'])({}, node.type.contextTypes, options.childContextTypes);\n\n    WrapperComponent.prototype.getChildContext = function () {\n      function getChildContext() {\n        return this.state.context;\n      }\n\n      return getChildContext;\n    }();\n\n    WrapperComponent.childContextTypes = childContextTypes;\n  }\n\n  return WrapperComponent;\n} //# sourceMappingURL=createMountWrapper.js.map","map":{"version":3,"sources":["../src/createMountWrapper.jsx"],"names":["stringOrFunction","PropTypes","makeValidElementType","args","adapter","propValue","props","validElementType","createMountWrapper","options","WrappingComponent","WrapperComponent","React","wrappingComponentProps","context","mount","callback","undefined","oldProps","oldContext","Component","refProp","component","object","node","childContextTypes"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { ref } from 'airbnb-prop-types';\nimport RootFinder from './RootFinder';\n\n/* eslint react/forbid-prop-types: 0 */\n\nconst stringOrFunction = PropTypes.oneOfType([PropTypes.func, PropTypes.string]);\nconst makeValidElementType = (adapter) => {\n  if (!adapter) {\n    return stringOrFunction;\n  }\n\n  function validElementType(props, propName, ...args) {\n    if (!adapter.isValidElementType) {\n      return stringOrFunction(props, propName, ...args);\n    }\n    const propValue = props[propName];\n    if (propValue == null || adapter.isValidElementType(propValue)) {\n      return null;\n    }\n    return new TypeError(`${propName} must be a valid element type!`);\n  }\n  validElementType.isRequired = function validElementTypeRequired(props, propName, ...args) {\n    if (!adapter.isValidElementType) {\n      return stringOrFunction.isRequired(props, propName, ...args);\n    }\n    const propValue = props[propName]; // eslint-disable-line react/destructuring-assignment\n    if (adapter.isValidElementType(propValue)) {\n      return null;\n    }\n    return new TypeError(`${propName} must be a valid element type!`);\n  };\n  return validElementType;\n};\n\n/**\n * This is a utility component to wrap around the nodes we are\n * passing in to `mount()`. Theoretically, you could do everything\n * we are doing without this, but this makes it easier since\n * `renderIntoDocument()` doesn't really pass back a reference to\n * the DOM node it rendered to, so we can't really \"re-render\" to\n * pass new props in.\n */\nexport default function createMountWrapper(node, options = {}) {\n  const { adapter, wrappingComponent: WrappingComponent } = options;\n\n  class WrapperComponent extends React.Component {\n    constructor(...args) {\n      super(...args);\n      const { props, wrappingComponentProps, context } = this.props;\n      this.state = {\n        mount: true,\n        props,\n        wrappingComponentProps,\n        context,\n      };\n    }\n\n    setChildProps(newProps, newContext, callback = undefined) {\n      const { props: oldProps, context: oldContext } = this.state;\n      const props = { ...oldProps, ...newProps };\n      const context = { ...oldContext, ...newContext };\n      this.setState({ props, context }, callback);\n    }\n\n    setWrappingComponentProps(props, callback = undefined) {\n      this.setState({ wrappingComponentProps: props }, callback);\n    }\n\n    render() {\n      const { Component, refProp } = this.props;\n      const { mount, props, wrappingComponentProps } = this.state;\n      if (!mount) return null;\n      // eslint-disable-next-line react/jsx-props-no-spreading\n      const component = <Component ref={refProp} {...props} />;\n      if (WrappingComponent) {\n        return (\n          // eslint-disable-next-line react/jsx-props-no-spreading\n          <WrappingComponent {...wrappingComponentProps}>\n            <RootFinder>{component}</RootFinder>\n          </WrappingComponent>\n        );\n      }\n      return component;\n    }\n  }\n  WrapperComponent.propTypes = {\n    Component: makeValidElementType(adapter).isRequired,\n    refProp: PropTypes.oneOfType([PropTypes.string, ref()]),\n    props: PropTypes.object.isRequired,\n    wrappingComponentProps: PropTypes.object,\n    context: PropTypes.object,\n  };\n  WrapperComponent.defaultProps = {\n    refProp: null,\n    context: null,\n    wrappingComponentProps: null,\n  };\n\n  if (options.context && (node.type.contextTypes || options.childContextTypes)) {\n    // For full rendering, we are using this wrapper component to provide context if it is\n    // specified in both the options AND the child component defines `contextTypes` statically\n    // OR the merged context types for all children (the node component or deeper children) are\n    // specified in options parameter under childContextTypes.\n    // In that case, we define both a `getChildContext()` function and a `childContextTypes` prop.\n    const childContextTypes = {\n      ...node.type.contextTypes,\n      ...options.childContextTypes,\n    };\n\n    WrapperComponent.prototype.getChildContext = function getChildContext() {\n      return this.state.context;\n    };\n    WrapperComponent.childContextTypes = childContextTypes;\n  }\n  return WrapperComponent;\n}\n"]},"metadata":{},"sourceType":"script"}