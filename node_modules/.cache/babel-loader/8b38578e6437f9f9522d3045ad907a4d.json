{"ast":null,"code":"// return the total reduction by applying the minus offer\nconst applyMinusReduction = (totalPrize, offer) => {\n  if (totalPrize === undefined || totalPrize === undefined) return undefined;\n  return totalPrize - offer.value;\n}; // return the total reduction by applying the percentage offer\n\n\nconst applyPercentageReduction = (totalPrize, offer) => {\n  if (totalPrize === undefined || totalPrize === undefined) return undefined;\n  return totalPrize - totalPrize * offer.value / 100;\n}; // return the total reduction by applying the slice offer\n\n\nconst applySliceReduction = (totalPrize, offer) => {\n  let slice;\n  if (totalPrize === undefined || totalPrize === undefined) return undefined;\n  slice = totalPrize / offer.sliceValue >> 0;\n  return totalPrize - slice * offer.value;\n}; // return the best offer\n\n\nconst getBestOffer = (prize, offers) => {\n  let allReductions;\n  if (prize === undefined || offers === undefined) return undefined; // create a array of all reduction then sort it to find the best offer\n\n  allReductions = offers.map(offer => {\n    switch (offer.type) {\n      case \"minus\":\n        return applyMinusReduction(prize, offer);\n\n      case \"percentage\":\n        return applyPercentageReduction(prize, offer);\n\n      case \"slice\":\n        return applySliceReduction(prize, offer);\n    }\n  });\n  ``;\n  allReductions.sort((a, b) => a > b);\n  return allReductions[0];\n};\n\nmodule.exports = {\n  applyMinusReduction,\n  applyPercentageReduction,\n  applySliceReduction,\n  getBestOffer\n};","map":{"version":3,"sources":["C:/Users/gordon/Desktop/testRecrutement/src/utils/reductions.js"],"names":["applyMinusReduction","totalPrize","offer","undefined","value","applyPercentageReduction","applySliceReduction","slice","sliceValue","getBestOffer","prize","offers","allReductions","map","type","sort","a","b","module","exports"],"mappings":"AAAA;AACA,MAAMA,mBAAmB,GAAG,CAACC,UAAD,EAAaC,KAAb,KAAuB;AAC/C,MAAID,UAAU,KAAKE,SAAf,IAA4BF,UAAU,KAAKE,SAA/C,EACI,OAAOA,SAAP;AACJ,SAAOF,UAAU,GAAGC,KAAK,CAACE,KAA1B;AACH,CAJD,C,CAMA;;;AACA,MAAMC,wBAAwB,GAAG,CAACJ,UAAD,EAAaC,KAAb,KAAuB;AACpD,MAAID,UAAU,KAAKE,SAAf,IAA4BF,UAAU,KAAKE,SAA/C,EACI,OAAOA,SAAP;AACJ,SAAOF,UAAU,GAAKA,UAAU,GAAGC,KAAK,CAACE,KAApB,GAA6B,GAAlD;AACH,CAJD,C,CAMA;;;AACA,MAAME,mBAAmB,GAAG,CAACL,UAAD,EAAaC,KAAb,KAAuB;AAC/C,MAAIK,KAAJ;AAEA,MAAIN,UAAU,KAAKE,SAAf,IAA4BF,UAAU,KAAKE,SAA/C,EACI,OAAOA,SAAP;AACJI,EAAAA,KAAK,GAAIN,UAAU,GAAGC,KAAK,CAACM,UAApB,IAAmC,CAA3C;AACA,SAAQP,UAAU,GAAIM,KAAK,GAAGL,KAAK,CAACE,KAApC;AACH,CAPD,C,CASA;;;AACA,MAAMK,YAAY,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;AACpC,MAAIC,aAAJ;AAEA,MAAIF,KAAK,KAAKP,SAAV,IAAuBQ,MAAM,KAAKR,SAAtC,EACI,OAAOA,SAAP,CAJgC,CAKpC;;AACAS,EAAAA,aAAa,GAAGD,MAAM,CAACE,GAAP,CAAYX,KAAD,IAAW;AAClC,YAAQA,KAAK,CAACY,IAAd;AACI,WAAK,OAAL;AACI,eAAOd,mBAAmB,CAACU,KAAD,EAAQR,KAAR,CAA1B;;AACJ,WAAK,YAAL;AACI,eAAOG,wBAAwB,CAACK,KAAD,EAAQR,KAAR,CAA/B;;AACJ,WAAK,OAAL;AACI,eAAOI,mBAAmB,CAACI,KAAD,EAAQR,KAAR,CAA1B;AANR;AAQF,GATc,CAAhB;AASK,IAAD;AACHU,EAAAA,aAAa,CAACG,IAAd,CAAmB,CAACC,CAAD,EAAIC,CAAJ,KAAUD,CAAC,GAAGC,CAAjC;AACD,SAAOL,aAAa,CAAC,CAAD,CAApB;AACH,CAlBD;;AAoBAM,MAAM,CAACC,OAAP,GAAiB;AAACnB,EAAAA,mBAAD;AAAsBK,EAAAA,wBAAtB;AAAgDC,EAAAA,mBAAhD;AAAqEG,EAAAA;AAArE,CAAjB","sourcesContent":["// return the total reduction by applying the minus offer\r\nconst applyMinusReduction = (totalPrize, offer) => { \r\n    if (totalPrize === undefined || totalPrize === undefined)\r\n        return undefined;\r\n    return totalPrize - offer.value;\r\n}\r\n\r\n// return the total reduction by applying the percentage offer\r\nconst applyPercentageReduction = (totalPrize, offer) => {\r\n    if (totalPrize === undefined || totalPrize === undefined)\r\n        return undefined;\r\n    return totalPrize - ((totalPrize * offer.value) / 100);\r\n}\r\n\r\n// return the total reduction by applying the slice offer\r\nconst applySliceReduction = (totalPrize, offer) => {\r\n    let slice;\r\n\r\n    if (totalPrize === undefined || totalPrize === undefined)\r\n        return undefined;\r\n    slice = (totalPrize / offer.sliceValue) >> 0;\r\n    return  totalPrize - (slice * offer.value);\r\n}\r\n\r\n// return the best offer\r\nconst getBestOffer = (prize, offers) => {\r\n    let allReductions;\r\n\r\n    if (prize === undefined || offers === undefined)\r\n        return undefined;\r\n    // create a array of all reduction then sort it to find the best offer\r\n    allReductions = offers.map((offer) => {\r\n        switch (offer.type) {\r\n            case \"minus\":\r\n                return applyMinusReduction(prize, offer);\r\n            case \"percentage\":\r\n                return applyPercentageReduction(prize, offer);\r\n            case \"slice\":\r\n                return applySliceReduction(prize, offer);\r\n        }\r\n     });``\r\n     allReductions.sort((a, b) => a > b);\r\n    return allReductions[0];\r\n}\r\n\r\nmodule.exports = {applyMinusReduction, applyPercentageReduction, applySliceReduction, getBestOffer};\r\n"]},"metadata":{},"sourceType":"module"}